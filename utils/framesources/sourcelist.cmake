file(GLOB CUR_SRC_FILES ${CMAKE_CURRENT_LIST_DIR}/*.cpp)
file(GLOB CUR_HDR_FILES ${CMAKE_CURRENT_LIST_DIR}/*.h)
set(SRC_FILES ${SRC_FILES} ${CUR_SRC_FILES})
set(HDR_FILES ${HDR_FILES} ${CUR_HDR_FILES})

if (WITH_DIRECTDRAW)
  file(GLOB CUR_SRC_FILES ${CMAKE_CURRENT_LIST_DIR}/directShow/*.cpp)
  file(GLOB CUR_HDR_FILES ${CMAKE_CURRENT_LIST_DIR}/directShow/*.h)
  set(SRC_FILES ${SRC_FILES} ${CUR_SRC_FILES})
  set(HDR_FILES ${HDR_FILES} ${CUR_HDR_FILES})
endif()

if (OpenCV_LIBS)
  file(GLOB CUR_SRC_FILES ${CMAKE_CURRENT_LIST_DIR}/opencv/*.cpp)
  file(GLOB CUR_HDR_FILES ${CMAKE_CURRENT_LIST_DIR}/opencv/*.h)
  set(SRC_FILES ${SRC_FILES} ${CUR_SRC_FILES})
  set(HDR_FILES ${HDR_FILES} ${CUR_HDR_FILES})
endif()
